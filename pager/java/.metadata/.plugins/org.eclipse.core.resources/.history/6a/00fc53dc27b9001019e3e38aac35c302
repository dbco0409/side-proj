package com.pager.mapper;

import java.util.List;

import org.apache.ibatis.annotations.*;

import com.pager.model.Bid;

@Mapper
public interface BidMapper {

    // ✅ 1. 입찰 등록
    @Insert("""
        INSERT INTO bid 
            (no1, no2, title, company, status, category1, category2, category3, startTime, endTime, 
             name, tel, content, fileName1, file1, fileName2, file2, fileName3, file3)
        VALUES 
            (#{no1}, #{no2}, #{title}, #{company}, #{status}, #{category1}, #{category2}, #{category3}, 
             #{startTime}, #{endTime}, #{name}, #{tel}, #{content}, 
             #{fileName1}, #{file1}, #{fileName2}, #{file2}, #{fileName3}, #{file3})
    """)
    void insertBid(Bid bid);

    // ✅ 2. 입찰 수정
    @Update("""
        UPDATE bid
        SET no1 = #{no1},
            no2 = #{no2},
            title = #{title},
            company = #{company},
            status = #{status},
            category1 = #{category1},
            category2 = #{category2},
            category3 = #{category3},
            startTime = #{startTime},
            endTime = #{endTime},
            name = #{name},
            tel = #{tel},
            content = #{content},
            fileName1 = #{fileName1},
            file1 = #{file1},
            fileName2 = #{fileName2},
            file2 = #{file2},
            fileName3 = #{fileName3},
            file3 = #{file3}
        WHERE id = #{id}
    """)
    void updateBid(Bid bid);

    // ✅ 3. 입찰 삭제
    @Delete("DELETE FROM bid WHERE id = #{id}")
    void deleteBid(Long id);

    // ✅ 4. 입찰 단건 조회
    @Select("SELECT * FROM bid WHERE id = #{id}")
    Bid getBid(Long id);

    // ✅ 5. 입찰 전체 목록 조회
    @Select("SELECT * FROM bid ORDER BY id DESC")
    List<Bid> allBidList();

    // ✅ 6. 입찰 상세 목록 조회 (특정 id 기준 리스트 — 필요시 세부 조회용)
    @Select("SELECT * FROM bid WHERE id = #{id}")
    List<Bid> getBidList(Long id);
}
