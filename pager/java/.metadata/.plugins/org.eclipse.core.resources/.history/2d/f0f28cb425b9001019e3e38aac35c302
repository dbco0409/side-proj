package com.pager.mapper;

import java.util.List;

import org.apache.ibatis.annotations.*;

import com.pager.model.Quote;

@Mapper
public interface QuoteMapper {

    // ✅ 1. 견적요청 등록
    @Insert("""
        INSERT INTO quote 
            (no1, no2, title, company, status, endTime, name, tel, content, fileName, file)
        VALUES 
            (#{no1}, #{no2}, #{title}, #{company}, #{status}, #{endTime}, #{name}, #{tel}, #{content}, #{fileName}, #{file})
    """)
    void insertQuote(Quote quote);

    // ✅ 2. 견적요청 수정
    @Update("""
        UPDATE quote
        SET no1 = #{no1},
            no2 = #{no2},
            title = #{title},
            company = #{company},
            status = #{status},
            endTime = #{endTime},
            name = #{name},
            tel = #{tel},
            content = #{content},
            fileName = #{fileName},
            file = #{file}
        WHERE id = #{id}
    """)
    void updateQuote(Quote quote);

    // ✅ 3. 견적요청 삭제
    @Delete("DELETE FROM quote WHERE id = #{id}")
    void deleteQuote(Long id);

    // ✅ 4. 견적요청 단건 조회
    @Select("SELECT * FROM quote WHERE id = #{id}")
    Quote getQuote(Long id);

    // ✅ 5. 견적요청 전체 목록 조회
    @Select("SELECT * FROM quote ORDER BY id DESC")
    List<Quote> allQuoteList();
    
 // ✅ 5. 견적요청 전체 목록 조회
    @Select("SELECT * FROM quote where id = #{id} ORDER BY id DESC")
    List<Quote> getQuoteList(Long id);
}
