<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>페이저</title>

    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css}" />
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css}" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" th:href="@{/css/datatables.min.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}" />

    <!-- js -->
    <script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>
	<script th:src="@{/js/datatables.min.js}"></script>
    <script th:src="@{/js/commons.js}"></script>
    <script th:src="@{/js/list.js}"></script>
</head>

<body>
	<div id="bg"></div>
    <div id="wrap">
        <header th:replace="~{fragments/head :: commonHead('메인 페이지')}"></header>
        <section id="sub_top">
			<div class="sub_main">
				<div class="txtBox">
					<h4>발주계획</h4>
					<p>Ordering plan</p>
				</div>
			</div>
		</section>
		<section id="sub_list">
		  <table id="table" class="table table-striped table-bordered display">
		    <thead>
		      <tr>
		        <th>No</th>
		        <th>사업명</th>
		        <th>기관명</th>
				<th>게시일시</th>
				<th>견적번호</th>
		      </tr>
		    </thead>
		    <tbody>
		      <tr th:each="item, stat : ${items}" th:onclick="'location.href=\'' + @{/ordering/view/{id}(id=${item.order_plan_unty_no})} + '\''" style="cursor:pointer">
			
			    <!-- ✅ 역순 번호 -->
			    <td th:text="${items.size() - stat.index}" class="center"></td>
			
			    <!-- ✅ 요청명 -->
			    <td th:text="${item.biz_nm != null ? item.biz_nm : '-'}"></td>
			
			    <!-- ✅ 총괄기관명 -->
			    <td th:text="${item.order_instt_nm != null ? item.order_instt_nm : '-'}" class="center"></td>
			
			    <!-- ✅ 게시일자 -->
			    <td th:text="${item.ntice_dt != null ? item.ntice_dt : '-'}" class="center"></td>
			
			    <!-- ✅ 요청번호 -->
			    <td th:text="${item.order_plan_unty_no}" class="center"></td>
			</tr>
			
			<!-- ✅ 데이터 없을 때 -->
			<tr th:if="${#lists.isEmpty(items)}">
			    <td colspan="7" class="text-center">등록된 발주 계획이 없습니다.</td>
			</tr>
		    </tbody>
		  </table>
		</section>

        <footer th:replace="~{fragments/foot :: commonFoot('푸터 페이지')}"></footer>
    </div>

</body>

</html>

